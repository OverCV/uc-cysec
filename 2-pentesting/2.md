*Reconocimiento pasivo:*
Podemos usar una técnica como el Sniffing, la víctima está en el mismo dominio de broadcast, si estuviera en uno domiciliario tocaría hacer más vueltas. Pero en este caso está en capa 3 y enlace, no está en otra vlan ni nada por el estilo.

Entonces vamos a hacer un tema de Sniffing, de forma que si pensamos que Juan es la víctima y olfatea la subred de acá hay muchas ráfagas, pero para discernir el tráfico de Juan vamos a ser más copy-hackers y no atacar a todo el mundo porque todos están allí. Por ejemplo un `nsLookup` y manda un `ingenierías.ucaldas.co` y sale más información.
un `who-is`, `nslookup`, o con un `dep`. Pero entonces vamos a hacer un `wireshark` | `sudo wireshark` porque partimos de la premisa hipotética de pensar que lo exhortó a una página web para diferenciar el tráfico, como sabe que le gusta la champions pues entonces va a entrar allí.
Entonces lo sniffea un rato, la ETH, entra a la máquina de WINxp y se mete al browser, entra a `www.google.com`  o  `www.bing.com` y entonces al haber empezado la captura de wireshark y entonces para la captura y vamos a poner filtros, como queremos un patrón específico entonces:
Tenemos un filtro por dir ETH o que tenga X cosa o contenga Y, como son segmentos capa 2 hay mucha resolución de macs con descubrimiento ARP, muchos filtros que muestra, pero ponemos `http.host`  o `http.host contains` (no sirvió) entonces `http.host contains "bing.com"` y dice hay una máquina IP `192.168.116.130` y uno mira en el IP Transfer Protocol que corresponde a Bing.com, si queremos cerciorarnos más, damos [ctrl+shift+t] y miramos si responde en esa dirección, que sí sea bing.

- Entonces Sniffing que es la primera técnica + ingeniería social, entonces uno tiene un `sudo setoolkits`
    Usamos entonces el (1), de ingeniería social (incluso pdf's o qr's envenenados), vamos a acceder (2) para tales, luego (3) y una clonación del sitio (2?).
    Entonces nos pregunta la dirección IP del cosechador de credenciales, clonamos un sitio para obtenerles las credenciales, así como un ataque de phishing, que dice "ww.bancolombia.com" y es una IP Falsa, o enveneanr una tabla DNS local, que cuando se tiene un acceso a la máquina, como el DNS Host porque es jerárquica, lo primero que mira es en la tabla lcoal, como el IP no está entonces va a la siguiente que es el DNS para mirar el nombre, pero si uno pone primero eso entonces lo envenena. El Ehtercap es una navaja suiza para hacer envenenamieno de gateways, DNS, y sale por el falso en vez del verdadero, como si fuera un proxy, suplantando access points.
    1. Entonces nos pide la IP, pues soy yo, el atacante así que damos [enter] o ponemos localhost.
    2. Entonces ponemos el sitio que quremos clonar sea `www.facebook.com` y nos dice que la mejor forma de acceder es un formulario que mira todos los posts del website, levanta un apache por debajo en el puerto 80, si ya tenemos algo ahí pues nos toca cambiar para que corra. Si entramos por la máquina hipervisor.
    3. Entonces accedemos como víctima y ponemos el `192.168.116.128` y como está viejito no le carga ni el CSS. Uno mete los datos y lo redirije de forma transparente al sitio web y entra.
    4. Entonces desde la vista MLKali uno puede revisar la IP (116.130) y uno ve en `possible_password` salen las cosas, pero lo que interesaba era la IP según eso. Ya obtuvimos la IP por dos formas.
   
Reconocimiento activo.

Entonces acá podemos aplicar `nmap 192.168.116.130` y nos dice los puertos y servicios que tiene abierta la máquina, acá algo friki es que NMAP lo usan mucho en series y películas (en matrix) y tiene todo un lenguaje interpretado para hacer scripting. Entonces le decimos que haga un scaneo entre puertos, o entre toda una subred, de forma que identifica máquinas vivas y luego por los puertos y preguntar si está abierto o cerrado y es buscar. ENtonces le ponemos `nmap -sC -sV 192.16..` porque queremos que sea silencioso de forma que no se detecten los falsos positivos, las leyes de seguridad castigan los intentos de scaneo y ponemos modo Stealth para que no lancel oso flags. Demora un poco por lo dicho, y corrobora la versión del servicio.
Al terminar nos muestra la versión del servicio, provoca con cositas del OS, o eso lo pudimos ver con el fingerprint (`sudo nmap -O 192.168.116.130` que es el OS, el service pack, cosas más interesantes para buscar vulnerabilidades de la versión, podría quedarse o ir a buscar más herramientas para vulnerar) entonces podemos ir a `cd /user/share/nmap/scrpts` y podemos haceer un `ls` o `la-mode` y por ejemplo un `vi clamav-exec` y al final final hay interacciones con Sockets, es como similar a python pero no es, al final hay interacciones o cosas de peticiones, los ninjas pueden aventurarse a hacer eso de forma que la comunidad es generosa y liberan scripts, esto no ataca, verifica el grado de vulnerabilidad pero no da el tiro de gracia. Entonces un atacante indaga servicios abiertos. Entonces muestra los puertos tipo "445/ip" el problema no es el número ni tcp, es el sevicio "microsoft-ds" que se encarga de hacer las funciones de networking, el niño mimado con muchísimos accesos de elda que levanta SMDB, periféricos,etc.. MS/Lin/Android/iOS son los más atacados por ser tan conocidos, ya linus no es tan robusto. Entonces uno ve servicios con bugtracks y son suceptibles de ser comprometidos o atacados, eso lo sabemos porque es el protocolo SMB () y le decimos `ls -la | grep smb | more` y de esa forma buscamos scripts asociados con eso, more para paginar y miramos scripcitos. El maestro tenía versioens y había una SMB.VUL y mira vulnerabilidades, que si es vulnerable al webexec-exploit, etc etc.. En TY o canales es ir probando, entonces uno copia el nombre del script y nuestra virtud es la paciencia, con `nmap --script smb-vulnb-ms17-010 192.168.116.130` y miramos si es vulnerable, al final nos sale en "Host Script results" que sí lo es. Entonces encontramos una pero podemos buscar por más. La típica es la 0-68net-api con `nmap --script smb-vulnb-ms08-067 192.168.116.130` y todo tiene le prefijo *ms* y son parches de seguridad, así mismo como la CVE que dice está reportada desde 2008
Entonces ya vimos a los que es vulnerable y eso nos da información para más adelante, entonces un script más avanzado primero probamos `sudo service mysql start` o `mysql -h localhost -u root -p`.. Bueno, prueba el script de "database" para que le bote si su versión es vulnerable en mysql, no le salió nada, sólo que le tiene corriendo, eston es también intentó con `nmap --script mysql-brute localhost` usando "HashCat" y "JohnTheReapper"